var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Background=function(e){"use strict";function o(){setTimeout(function(){r.style.backgroundImage="url("+e.background.image.url+c+"cb="+(new Date).getTime()+")",o()},l)}function n(){u=!0,e.background.useImage&&!s&&o(),i&&"function"==typeof i&&i()}function t(){var o;r=document.getElementById("background"),g=document.getElementById("backgroundStorage"),document.body.style.background=e.background.color,r?e.background.useImage?(r.className=e.background.image.position,r.className=e.background.image.scale?r.className+" scale-to-fit":r.className,s=0!==Object.keys(e.backgroundStorage).length,s?g?(g.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.files&&e.detail.files.length>0&&(r.style.backgroundImage="url("+e.detail.files[0].url+")"),u||n()}),g.setAttribute("folder",e.backgroundStorage.folder),g.setAttribute("fileName",e.backgroundStorage.fileName),g.setAttribute("companyId",e.backgroundStorage.companyId),g.go()):console.log("Missing element with id value of 'backgroundStorage'"):(o=e.background.image.url.split("?"),c=1===o.length?"?":"&",r.style.backgroundImage="url("+e.background.image.url+")",n())):n():console.log("Missing element with id value of 'background'")}function a(e){u?e&&"function"==typeof e&&e():(e&&(i=e),t())}var i=null,u=!1,r=null,g=null,l=9e5,s=!1,c="";return{init:a}};